<Window x:Class="TestySZP.Views.QuestionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:TestySZP.Helpers"
        Title="Správa otázek" Height="700" Width="750">

    <Window.Resources>
        <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <local:QuestionTypeToBoolConverter x:Key="QuestionTypeToBoolConverter"/>

    </Window.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="10">

            <!-- FORMULÁŘ: Přidání nové otázky -->
            <GroupBox Header="Přidání nové otázky">
                <StackPanel Margin="10">
                    <TextBlock Text="Text otázky:"/>
                    <TextBox Text="{Binding NewQuestion.Text, UpdateSourceTrigger=PropertyChanged}" Width="600"/>

                    <TextBlock Text="Třída znalostí:"/>
                    <ComboBox ItemsSource="{Binding KnowledgeLevels}"
                              SelectedItem="{Binding NewQuestion.KnowledgeClass, Mode=TwoWay}" Width="100"/>

                    <CheckBox Content="Otázka je typu Written"
          IsChecked="{Binding NewQuestion.Type, Mode=TwoWay, Converter={StaticResource QuestionTypeToBoolConverter}}"/>

                    <Button Content="Přidat otázku" Command="{Binding AddQuestionCommand}" Width="120" Margin="0,10,0,0"/>
                </StackPanel>
            </GroupBox>

            <!-- SEZNAM OTÁZEK -->
            <GroupBox Header="Seznam otázek" Margin="0,20,0,0">
                <StackPanel>
                    <ListView ItemsSource="{Binding Questions}"
                              SelectedItem="{Binding SelectedQuestion, Mode=TwoWay}"
                              Height="200">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Text otázky" DisplayMemberBinding="{Binding Text}" Width="350"/>
                                <GridViewColumn Header="Třída" DisplayMemberBinding="{Binding KnowledgeClass}" Width="50"/>
                                <GridViewColumn Header="Typ" DisplayMemberBinding="{Binding Type}" Width="120"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </StackPanel>
            </GroupBox>

            <!-- FORMULÁŘ: Úprava vybrané otázky -->
            <GroupBox Header="Úprava vybrané otázky"
                      Visibility="{Binding IsQuestionSelected, Converter={StaticResource BoolToVisibilityConverter}}"
                      Margin="0,20,0,0">
                <StackPanel Margin="10">
                    <TextBlock Text="Text otázky:"/>
                    <TextBox Text="{Binding SelectedQuestion.Text, UpdateSourceTrigger=PropertyChanged}" Width="600"/>

                    <TextBlock Text="Třída znalostí:"/>
                    <ComboBox ItemsSource="{Binding KnowledgeLevels}"
                              SelectedItem="{Binding SelectedQuestion.KnowledgeClass, Mode=TwoWay}" Width="100"/>

                    <CheckBox Content="Otázka je typu Written"
          IsChecked="{Binding IsSelectedWritten, Mode=TwoWay}"/>

                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <Button Content="Upravit otázku" Command="{Binding UpdateQuestionCommand}" Width="120"/>
                        <Button Content="Smazat otázku" Command="{Binding DeleteQuestionCommand}" Width="120" Margin="10,0,0,0"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

        </StackPanel>
    </ScrollViewer>
</Window>
